<!DOCTYPE html><!-- "' --></textarea></script></style></pre></xmp></a></iframe></noembed></noframes></noscript></option></select></template></title></table>
<html>
<head>
	<meta charset="utf-8">
	<meta content="noindex" name="robots">
	<meta content="Tracy by Nette Framework" name="generator">

	<title>Fatal Error: Allowed memory size of 268435456 bytes exhausted (tried to allocate 239079424 bytes)</title>
	<!-- in /Users/heroyt/Projects/LaserArenaControl/tests/Tools/Evo5/ResultsParserTest.php:29 -->

	<style class="tracy-debug">
		#tracy-bs {
			font: 9pt/1.5 Verdana, sans-serif;
			background: white;
			color: #333;
			position: absolute;
			z-index: 20000;
			left: 0;
			top: 0;
			width: 100%;
			text-align: left
		}

		#tracy-bs a {
			text-decoration: none;
			color: #328ADC;
			padding: 2px 4px;
			margin: -2px -4px
		}

		#tracy-bs a + a {
			margin-left: 0
		}

		#tracy-bs a:hover, #tracy-bs a:focus {
			color: #085AA3
		}

		#tracy-bs-toggle {
			position: absolute;
			right: .5em;
			top: .5em;
			text-decoration: none;
			background: #CD1818;
			color: white !important;
			padding: 3px
		}

		.tracy-bs-main {
			display: flex;
			flex-direction: column;
			min-height: 100vh
		}

		.tracy-bs-main.tracy-collapsed {
			display: none
		}

		#tracy-bs div.panel:last-of-type {
			flex: 1
		}

		#tracy-bs-error {
			background: #CD1818;
			color: white;
			font-size: 13pt
		}

		#tracy-bs-error::selection, #tracy-bs-error ::selection {
			color: black !important;
			background: #FDF5CE !important
		}

		#tracy-bs-error a {
			color: #ffefa1 !important
		}

		#tracy-bs-error span span {
			font-size: 80%;
			color: rgba(255, 255, 255, 0.5);
			text-shadow: none
		}

		#tracy-bs-error a.action {
			color: white !important;
			opacity: 0;
			font-size: .7em;
			border-bottom: none !important
		}

		#tracy-bs-error:hover a.action {
			opacity: .6
		}

		#tracy-bs-error a.action:hover {
			opacity: 1
		}

		#tracy-bs-error i {
			color: #ffefa1;
			font-style: normal
		}

		#tracy-bs h1 {
			font-size: 15pt;
			font-weight: normal;
			text-shadow: 1px 1px 2px rgba(0, 0, 0, .3);
			margin: .7em 0
		}

		#tracy-bs h1 span {
			white-space: pre-wrap
		}

		#tracy-bs h2 {
			font-size: 14pt;
			font-weight: normal;
			margin: .6em 0
		}

		#tracy-bs h3 {
			font-size: 10pt;
			font-weight: bold;
			margin: 1em 0;
			padding: 0
		}

		#tracy-bs p, #tracy-bs pre {
			margin: .8em 0
		}

		#tracy-bs pre, #tracy-bs code, #tracy-bs table {
			font: 9pt/1.5 Consolas, monospace !important
		}

		#tracy-bs pre, #tracy-bs table {
			background: #FDF5CE;
			padding: .4em .7em;
			border: 1px dotted silver;
			overflow: auto
		}

		#tracy-bs table pre {
			padding: 0;
			margin: 0;
			border: none
		}

		#tracy-bs table {
			border-collapse: collapse;
			width: 100%;
			margin-bottom: 1em
		}

		#tracy-bs td, #tracy-bs th {
			vertical-align: top;
			text-align: left;
			padding: 2px 6px;
			border: 1px solid #e6dfbf
		}

		#tracy-bs th {
			font-weight: bold
		}

		#tracy-bs tr > :first-child {
			width: 20%
		}

		#tracy-bs tr:nth-child(2n), #tracy-bs tr:nth-child(2n) pre {
			background-color: #F7F0CB
		}

		#tracy-bs ol {
			margin: 1em 0;
			padding-left: 2.5em
		}

		#tracy-bs ul {
			font-size: 7pt;
			padding: 2em 3em;
			margin: 1em 0 0;
			color: #777;
			background: #F6F5F3;
			border-top: 1px solid #DDD;
			list-style: none
		}

		#tracy-bs .footer-logo a {
			position: absolute;
			bottom: 0;
			right: 0;
			width: 100px;
			height: 50px;
			background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAAUBAMAAAD/1DctAAAAMFBMVEWupZzj39rEvbTy8O3X0sz9/PvGwLu8tavQysHq6OS0rKP5+Pbd2dT29fPMxbzPx8DKErMJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGUlEQVQoFX3TQWgTQRQA0MWLIJJDYehBTykhG5ERTx56K1u8eEhCYtomE7x5L4iLh0ViF7egewuFFqSIYE6hIHsIYQ6CQSg9CDKn4QsNCRlB59C74J/ZNHW1+An5+bOPyf6/s46oz2P+A0yIeZZ2ieEHi6TOnLKTxvWq+b52mxlVO3xnM1s7xLX1504XQH65OnW2dBqn7cCkYsFsfYsWpyY/2salmFTpEyzeR8zosYqMdiPDXdyU52K1wgEa/SjGpdEwUAxqvRfckQCDOyFearsEHe2grvkh/cFAHKvdtI3lcVceKQIOFpv+FOZaNPQBwJZLPp+hfrvT5JZXaUFsR8zqQc9qSgAharkfS5M/5F6nGJJAtXq/eLr3ucZpHccSxOOIPaQhtHohpCH2Xu6rLmQ0djnr4/+J3C6v+AW8/XWYxwYNdlhWj/P5fPSTQwVr0T9lGxdaBCqErNZaqYnEwbkjEB3NasGF3lPdrHa1nnxNOMgj0+neePUPjd2v/qVvUv29ifvc19huQ48qwXShy/9o8o3OSk0cs37mOFd0Ydgvsf/oZEnPVtggfd66lORn9mDyyzXU13SRtH2L6aR5T/snGAcZPfAXz5J1YlJWBEuxdMYqQecpBrlM49xAbmqyHA+xlA1FxBtqT2xmJoNXZlIt74ZBLeJ9ZGDqByNI7p543idzJ23vXEv7IgnsxiS+eNtwNbFdLq7+Bi4wQ0I4SVb9AAAAAElFTkSuQmCC') no-repeat;
			opacity: .6;
			padding: 0;
			margin: 0
		}

		#tracy-bs .footer-logo a:hover, #tracy-bs .footer-logo a:focus {
			opacity: 1;
			transition: opacity 0.1s
		}

		#tracy-bs div.panel {
			padding: 1px 25px
		}

		#tracy-bs div.inner {
			background: #F4F3F1;
			padding: .1em 1em 1em;
			border-radius: 8px
		}

		#tracy-bs .outer {
			overflow: auto
		}

		#tracy-bs.mac .outer {
			padding-bottom: 12px
		}

		#tracy-bs pre.code > div {
			min-width: 100%;
			float: left;
			white-space: pre
		}

		#tracy-bs .highlight {
			background: #CD1818;
			color: white;
			font-weight: bold;
			font-style: normal;
			display: block;
			padding: 0 .4em;
			margin: 0 -.4em
		}

		#tracy-bs .line {
			color: #9F9C7F;
			font-weight: normal;
			font-style: normal
		}

		#tracy-bs a.tracy-editor {
			color: inherit;
			border-bottom: 1px dotted rgba(0, 0, 0, .3);
			border-radius: 3px
		}

		#tracy-bs a.tracy-editor:hover {
			background: #0001
		}

		#tracy-bs span[data-tracy-href] {
			border-bottom: 1px dotted rgba(0, 0, 0, .3)
		}

		#tracy-bs .tracy-dump-whitespace {
			color: #0003
		}

		#tracy-bs .caused {
			float: right;
			padding: .3em .6em;
			background: #df8075;
			border-radius: 0 0 0 8px;
			white-space: nowrap
		}

		#tracy-bs .caused a {
			color: white
		}

		#tracy-bs .args tr:first-child > * {
			position: relative
		}

		#tracy-bs .args tr:first-child td:before {
			position: absolute;
			right: .3em;
			content: 'may not be true';
			opacity: .4
		}

		.tracy-collapsed {
			display: none
		}

		.tracy-toggle.tracy-collapsed {
			display: inline
		}

		.tracy-toggle {
			cursor: pointer;
			user-select: none
		}

		.tracy-toggle:after {
			content: '';
			display: inline-block;
			vertical-align: middle;
			line-height: 0;
			border-top: .6ex solid;
			border-right: .6ex solid transparent;
			border-left: .6ex solid transparent;
			transform: scale(1, 1.5);
			margin: 0 .2ex 0 .7ex;
			transition: .1s transform;
			opacity: .5
		}

		.tracy-toggle.tracy-collapsed:after {
			transform: rotate(-90deg) scale(1, 1.5) translate(.1ex, 0)
		}

		.tracy-sortable > :first-child > tr:first-child > * {
			position: relative
		}

		.tracy-sortable > :first-child > tr:first-child > *:hover:before {
			position: absolute;
			right: .3em;
			content: "\21C5";
			opacity: .4;
			font-weight: normal
		}

		.tracy-dump.tracy-light {
			text-align: left;
			color: #444;
			background: #fdf9e2;
			border-radius: 4px;
			padding: 1em;
			margin: 1em 0;
			word-break: break-all;
			white-space: pre-wrap
		}

		.tracy-dump.tracy-light div {
			padding-left: 2.5ex
		}

		.tracy-dump.tracy-light div div {
			border-left: 1px solid rgba(0, 0, 0, .1);
			margin-left: .5ex
		}

		.tracy-dump.tracy-light div div:hover {
			border-left-color: rgba(0, 0, 0, .25)
		}

		.tracy-light .tracy-dump-location {
			color: gray;
			font-size: 80%;
			text-decoration: none;
			background: none;
			opacity: .5;
			float: right;
			cursor: pointer
		}

		.tracy-light .tracy-dump-location:hover, .tracy-light .tracy-dump-location:focus {
			opacity: 1
		}

		.tracy-light .tracy-dump-array, .tracy-light .tracy-dump-object {
			color: #C22;
			user-select: text
		}

		.tracy-light .tracy-dump-string {
			color: #35D;
			white-space: break-spaces
		}

		.tracy-light div.tracy-dump-string {
			position: relative;
			padding-left: 3.5ex
		}

		.tracy-light .tracy-dump-lq {
			margin-left: calc(-1ex - 1px)
		}

		.tracy-light div.tracy-dump-string:before {
			content: '';
			position: absolute;
			left: calc(3ex - 1px);
			top: 1.5em;
			bottom: 0;
			border-left: 1px solid rgba(0, 0, 0, .1)
		}

		.tracy-light .tracy-dump-virtual span, .tracy-light .tracy-dump-dynamic span, .tracy-light .tracy-dump-string span {
			color: rgba(0, 0, 0, 0.5)
		}

		.tracy-light .tracy-dump-virtual i, .tracy-light .tracy-dump-dynamic i, .tracy-light .tracy-dump-string i {
			font-size: 80%;
			font-style: normal;
			color: rgba(0, 0, 0, 0.5);
			user-select: none
		}

		.tracy-light .tracy-dump-number {
			color: #090
		}

		.tracy-light .tracy-dump-null, .tracy-light .tracy-dump-bool {
			color: #850
		}

		.tracy-light .tracy-dump-virtual {
			font-style: italic
		}

		.tracy-light .tracy-dump-public::after {
			content: ' pub'
		}

		.tracy-light .tracy-dump-protected::after {
			content: ' pro'
		}

		.tracy-light .tracy-dump-private::after {
			content: ' pri'
		}

		.tracy-light .tracy-dump-public::after, .tracy-light .tracy-dump-protected::after, .tracy-light .tracy-dump-private::after, .tracy-light .tracy-dump-hash {
			font-size: 85%;
			color: rgba(0, 0, 0, 0.5)
		}

		.tracy-light .tracy-dump-indent {
			display: none
		}

		.tracy-light .tracy-dump-highlight {
			background: #C22;
			color: white;
			border-radius: 2px;
			padding: 0 2px;
			margin: 0 -2px
		}

		span[data-tracy-href] {
			border-bottom: 1px dotted rgba(0, 0, 0, .2)
		}

		.tracy-light .tracy-dump-flash {
			animation: tracy-dump-flash .2s ease
		}

		@keyframes tracy-dump-flash {
			0% {
				background: #c0c0c033
			}
		}    </style>
</head>


<body>
<div id="tracy-bs" itemscope>
	<a class="tracy-toggle" href="#" id="tracy-bs-toggle"></a>
	<div class="tracy-bs-main">
		<div class="panel" id="tracy-bs-error">
			<p>Fatal Error</p>

			<h1><span>Allowed memory size of 268435456 bytes exhausted (tried to allocate 239079424 bytes)</span>
			</h1>
		</div>


		<div class="panel">
			<h2><a class="tracy-toggle" data-tracy-ref="^+">Source file</a></h2>

			<div class="inner">
				<p><b>File:</b> <a class="tracy-editor"
								   href="editor://open/?file=%2FUsers%2Fheroyt%2FProjects%2FLaserArenaControl%2Ftests%2FTools%2FEvo5%2FResultsParserTest.php&amp;line=29&amp;search=&amp;replace="
								   title="/Users/heroyt/Projects/LaserArenaControl/tests/Tools/Evo5/ResultsParserTest.php:29">.../tests/Tools/Evo5/<b>ResultsParserTest.php</b>:29</a>
				</p>
				<pre class='code'
					 data-tracy-href="editor://open/?file=%2FUsers%2Fheroyt%2FProjects%2FLaserArenaControl%2Ftests%2FTools%2FEvo5%2FResultsParserTest.php&amp;line=29&amp;search=&amp;replace="
					 title="Ctrl-Click to open in editor"><div><code><span style="color: #06B"><span
					style="color: #D24; font-weight: bold"><span class='line'>19:</span>
<span class='line'>20:</span>        </span><span style="color: #998; font-style: italic">/**
<span class='line'>21:</span>         * @param string $file
<span class='line'>22:</span>         *
<span class='line'>23:</span>         * @throws FileException
<span class='line'>24:</span>         * @dataProvider getFiles
<span class='line'>25:</span>         */
<span class='line'>26:</span>        </span><span style="color: #D24; font-weight: bold">public function </span><span
					style="color: #000">testParser</span><span style="color: #D24; font-weight: bold">(</span><span
					style="color: #000">string $file</span><span style="color: #D24; font-weight: bold">) : </span><span
					style="color: #000">void </span><span style="color: #D24; font-weight: bold">{
<span class='line'>27:</span>            </span><span style="color: #000">$parser </span><span
					style="color: #D24; font-weight: bold">= new </span><span
					style="color: #000">ResultsParser</span><span style="color: #D24; font-weight: bold">(</span><span
					style="color: #000">$file</span><span style="color: #D24; font-weight: bold">);
<span class='line'>28:</span>            </span><span style="color: #000">$game </span><span
					style="color: #D24; font-weight: bold">= </span><span style="color: #000">$parser</span><span
					style="color: #D24; font-weight: bold">-&gt;</span><span style="color: #000">parse</span><span
					style="color: #D24; font-weight: bold">();
<span class='highlight'>29:            print_r($game);
</span></span><span style="color: #000"></span><span style="color: #D24; font-weight: bold"></span><span
					style="color: #000"></span><span style="color: #D24; font-weight: bold"><span
					class='line'>30:</span>            </span><span style="color: #000">self</span><span
					style="color: #D24; font-weight: bold">::</span><span style="color: #000">assertTrue</span><span
					style="color: #D24; font-weight: bold">(</span><span style="color: #000">true</span><span
					style="color: #D24; font-weight: bold">);
<span class='line'>31:</span>        }
<span class='line'>32:</span>    
<span class='line'>33:</span>    }</span>
</span></code></div></pre>
			</div>
		</div>


		<div class="panel">
			<h2><a class="tracy-toggle tracy-collapsed" data-tracy-ref="^+">Exception</a></h2>
			<div class="tracy-collapsed inner">
				<pre class="tracy-dump tracy-light" data-tracy-dump='{"ref":4136}'></pre>
			</div>
		</div>


		<div class="panel">
			<h2><a class="tracy-toggle tracy-collapsed" data-tracy-ref="^+">CLI request</a></h2>

			<div class="tracy-collapsed inner">
				<h3>Process ID 78220</h3>
				<pre>php /Users/heroyt/Projects/LaserArenaControl/vendor/phpunit/phpunit/phpunit --configuration /Users/heroyt/Projects/LaserArenaControl/phpunit.xml --teamcity</pre>

				<h3>Arguments</h3>
				<div class="outer">
					<table>
						<tr>
							<th>0</th>
							<td><pre class="tracy-dump tracy-light"
							><span class="tracy-dump-string" title="71 characters"><span>'</span>/Users/heroyt/Projects/LaserArenaControl/vendor/phpunit/phpunit/phpunit<span>'</span></span></pre>
							</td>
						</tr>
						<tr>
							<th>1</th>
							<td><pre class="tracy-dump tracy-light"
							><span class="tracy-dump-string"
								   title="15 characters"><span>'</span>--configuration<span>'</span></span></pre>
							</td>
						</tr>
						<tr>
							<th>2</th>
							<td><pre class="tracy-dump tracy-light"
							><span class="tracy-dump-string" title="52 characters"><span>'</span>/Users/heroyt/Projects/LaserArenaControl/phpunit.xml<span>'</span></span></pre>
							</td>
						</tr>
						<tr>
							<th>3</th>
							<td>
								<pre class="tracy-dump tracy-light"><span class="tracy-dump-string"
																		  title="10 characters"><span>'</span>--teamcity<span>'</span></span></pre>
							</td>
						</tr>
					</table>
				</div>
			</div>
		</div>


		<footer>
			<ul>
				<li><b><a href="https://github.com/sponsors/dg" rel="noreferrer noopener" target="_blank">Please support
					Tracy via a donation 💙️</a></b></li>
				<li>Report generated at 2021/10/19 16:04:30</li>
				<li>PHP 8.0.2</li>
				<li>Tracy 2.8.7</li>
			</ul>
			<div class="footer-logo"><a href="https://tracy.nette.org" rel="noreferrer"></a></div>
		</footer>
	</div>
	<meta
		content='{"4136":{"object":"ErrorException","items":[["severity",1,1],["message","Allowed memory size of 268435456 bytes exhausted (tried to allocate 239079424 bytes)",1],["string","","Exception"],["code",0,1],["file","/Users/heroyt/Projects/LaserArenaControl/tests/Tools/Evo5/ResultsParserTest.php",1],["line",29,1],["trace",[],"Exception"],["previous",null,"Exception"]]}}'
		itemprop=tracy-snapshot>
</div>

<script>
	'use strict';
	(function () {
		const MOVE_THRESHOLD = 100;

		class Toggle {
			static init() {
				let start;
				document.documentElement.addEventListener('mousedown', (e) => {
					start = [e.clientX, e.clientY];
				});
				document.documentElement.addEventListener('click', (e) => {
					let el;
					if (!e.shiftKey && !e.ctrlKey && !e.metaKey && (el = e.target.closest('.tracy-toggle')) && Math.pow(start[0] - e.clientX, 2) + Math.pow(start[1] - e.clientY, 2) < MOVE_THRESHOLD) {
						Toggle.toggle(el, undefined, e);
						e.stopImmediatePropagation();
					}
				});
				Toggle.init = function () {
				};
			}

			static toggle(el, expand, e) {
				let collapsed = el.classList.contains('tracy-collapsed'),
					ref = el.getAttribute('data-tracy-ref') || el.getAttribute('href', 2), dest = el;
				if (typeof expand === 'undefined') {
					expand = collapsed;
				}
				if (!ref || ref === '#') {
					ref = '+';
				} else if (ref.substr(0, 1) === '#') {
					dest = document;
				}
				ref = ref.match(/(\^\s*([^+\s]*)\s*)?(\+\s*(\S*)\s*)?(.*)/);
				dest = ref[1] ? dest.parentNode : dest;
				dest = ref[2] ? dest.closest(ref[2]) : dest;
				dest = ref[3] ? Toggle.nextElement(dest.nextElementSibling, ref[4]) : dest;
				dest = ref[5] ? dest.querySelector(ref[5]) : dest;
				el.classList.toggle('tracy-collapsed', !expand);
				dest.classList.toggle('tracy-collapsed', !expand);
				el.dispatchEvent(new CustomEvent('tracy-toggle', {
					bubbles: true,
					detail: {relatedTarget: dest, collapsed: !expand, originalEvent: e}
				}));
			}

			static persist(baseEl, restore) {
				let saved = [];
				baseEl.addEventListener('tracy-toggle', (e) => {
					if (saved.indexOf(e.target) < 0) {
						saved.push(e.target);
					}
				});
				let toggles = JSON.parse(sessionStorage.getItem('tracy-toggles-' + baseEl.id));
				if (toggles && restore !== false) {
					toggles.forEach((item) => {
						let el = baseEl;
						for (let i in item.path) {
							if (!(el = el.children[item.path[i]])) {
								return;
							}
						}
						if (el.textContent === item.text) {
							Toggle.toggle(el, item.expand);
						}
					});
				}
				window.addEventListener('unload', () => {
					toggles = saved.map((el) => {
						let item = {path: [], text: el.textContent, expand: !el.classList.contains('tracy-collapsed')};
						do {
							item.path.unshift(Array.from(el.parentNode.children).indexOf(el));
							el = el.parentNode;
						} while (el && el !== baseEl);
						return item;
					});
					sessionStorage.setItem('tracy-toggles-' + baseEl.id, JSON.stringify(toggles));
				});
			}

			static nextElement(el, selector) {
				while (el && selector && !el.matches(selector)) {
					el = el.nextElementSibling;
				}
				return el;
			}
		}

		let Tracy = window.Tracy = window.Tracy || {};
		Tracy.Toggle = Tracy.Toggle || Toggle;
	})();
	(function () {
		class TableSort {
			static init() {
				document.documentElement.addEventListener('click', (e) => {
					if (e.target.matches('.tracy-sortable > :first-child > tr:first-child *')) {
						TableSort.sort(e.target.closest('td,th'));
					}
				});
				TableSort.init = function () {
				};
			}

			static sort(tcell) {
				let tbody = tcell.closest('table').tBodies[0];
				let preserveFirst = !tcell.closest('thead') && !tcell.parentNode.querySelectorAll('td').length;
				let asc = !(tbody.tracyAsc === tcell.cellIndex);
				tbody.tracyAsc = asc ? tcell.cellIndex : null;
				let getText = (cell) => {
					return cell ? (cell.getAttribute('data-order') || cell.innerText) : '';
				};
				Array.from(tbody.children).slice(preserveFirst ? 1 : 0).sort((a, b) => {
					return function (v1, v2) {
						return v1 !== '' && v2 !== '' && !isNaN(v1) && !isNaN(v2) ? v1 - v2 : v1.toString().localeCompare(v2);
					}(getText((asc ? a : b).children[tcell.cellIndex]), getText((asc ? b : a).children[tcell.cellIndex]));
				}).forEach((tr) => {
					tbody.appendChild(tr);
				});
			}
		}

		let Tracy = window.Tracy = window.Tracy || {};
		Tracy.TableSort = Tracy.TableSort || TableSort;
	})();
	(function () {
		const COLLAPSE_COUNT = 7, COLLAPSE_COUNT_TOP = 14, TYPE_ARRAY = 'a', TYPE_OBJECT = 'o', TYPE_RESOURCE = 'r',
			PROP_VIRTUAL = 4, PROP_PRIVATE = 2;
		const HINT_CTRL = 'Ctrl-Click to open in editor', HINT_ALT = 'Alt-Click to expand/collapse all child nodes';

		class Dumper {
			static init(context) {
				(context || document).querySelectorAll('[data-tracy-snapshot][data-tracy-dump]').forEach((pre) => {
					let snapshot = JSON.parse(pre.getAttribute('data-tracy-snapshot'));
					pre.removeAttribute('data-tracy-snapshot');
					pre.appendChild(build(JSON.parse(pre.getAttribute('data-tracy-dump')), snapshot, pre.classList.contains('tracy-collapsed')));
					pre.removeAttribute('data-tracy-dump');
					pre.classList.remove('tracy-collapsed');
				});
				(context || document).querySelectorAll('meta[itemprop=tracy-snapshot]').forEach((meta) => {
					let snapshot = JSON.parse(meta.getAttribute('content'));
					meta.parentElement.querySelectorAll('[data-tracy-dump]').forEach((pre) => {
						if (pre.closest('[data-tracy-snapshot]')) {
							return;
						}
						pre.appendChild(build(JSON.parse(pre.getAttribute('data-tracy-dump')), snapshot, pre.classList.contains('tracy-collapsed')));
						pre.removeAttribute('data-tracy-dump');
						pre.classList.remove('tracy-collapsed');
					});
				});
				if (Dumper.inited) {
					return;
				}
				Dumper.inited = true;
				document.documentElement.addEventListener('click', (e) => {
					let el;
					if (e.ctrlKey && (el = e.target.closest('[data-tracy-href]'))) {
						location.href = el.getAttribute('data-tracy-href');
						return false;
					}
					if ((el = e.target.closest('[data-tracy-snapshot]'))) {
						let snapshot = JSON.parse(el.getAttribute('data-tracy-snapshot'));
						el.removeAttribute('data-tracy-snapshot');
						el.querySelectorAll('[data-tracy-dump]').forEach((toggler) => {
							if (!toggler.nextSibling) {
								toggler.after(document.createTextNode('\n'));
							}
							toggler.nextSibling.after(buildStruct(JSON.parse(toggler.getAttribute('data-tracy-dump')), snapshot, toggler, true, []));
							toggler.removeAttribute('data-tracy-dump');
						});
					}
				});
				document.documentElement.addEventListener('tracy-toggle', (e) => {
					if (!e.target.matches('.tracy-dump *')) {
						return;
					}
					let cont = e.detail.relatedTarget;
					let origE = e.detail.originalEvent;
					if (origE && origE.usedIds) {
						toggleChildren(cont, origE.usedIds);
						return;
					} else if (origE && origE.altKey && cont.querySelector('.tracy-toggle')) {
						if (e.detail.collapsed) {
							e.target.classList.toggle('tracy-collapsed', false);
							cont.classList.toggle('tracy-collapsed', false);
							e.detail.collapsed = false;
						}
						let expand = e.target.tracyAltExpand = !e.target.tracyAltExpand;
						toggleChildren(cont, expand ? {} : false);
					}
					cont.classList.toggle('tracy-dump-flash', !e.detail.collapsed);
				});
				document.documentElement.addEventListener('animationend', (e) => {
					if (e.animationName === 'tracy-dump-flash') {
						e.target.classList.toggle('tracy-dump-flash', false);
					}
				});
				document.addEventListener('mouseover', (e) => {
					if (!e.target.matches('.tracy-dump *')) {
						return;
					}
					let el;
					if (e.target.matches('.tracy-dump-hash') && (el = e.target.closest('.tracy-dump'))) {
						el.querySelectorAll('.tracy-dump-hash').forEach((el) => {
							if (el.textContent === e.target.textContent) {
								el.classList.add('tracy-dump-highlight');
							}
						});
						return;
					}
					if ((el = e.target.closest('.tracy-toggle')) && !el.title) {
						el.title = HINT_ALT;
					}
				});
				document.addEventListener('mouseout', (e) => {
					if (e.target.matches('.tracy-dump-hash')) {
						document.querySelectorAll('.tracy-dump-hash.tracy-dump-highlight').forEach((el) => {
							el.classList.remove('tracy-dump-highlight');
						});
					}
				});
				Tracy.Toggle.init();
			}
		}

		function build(data, repository, collapsed, parentIds, keyType) {
			let id, type = data === null ? 'null' : typeof data,
				collapseCount = collapsed === null ? COLLAPSE_COUNT : COLLAPSE_COUNT_TOP;
			if (type === 'null' || type === 'number' || type === 'boolean') {
				return createEl(null, null, [createEl('span', {'class': 'tracy-dump-' + type.replace('ean', '')}, [data + ''])]);
			} else if (type === 'string') {
				data = {string: data.replace(/&/g, '&amp;').replace(/</g, '&lt;'), length: [...data].length};
			} else if (Array.isArray(data)) {
				data = {array: null, items: data};
			} else if (data.ref) {
				id = data.ref;
				data = repository[id];
				if (!data) {
					throw new UnknownEntityException;
				}
			}
			if (data.string !== undefined || data.bin !== undefined) {
				let s = data.string === undefined ? data.bin : data.string;
				if (keyType === TYPE_ARRAY) {
					return createEl(null, null, [createEl('span', {'class': 'tracy-dump-string'}, {html: '<span class="tracy-dump-lq">\'<\/span>' + s + '<span>\'<\/span>'}),]);
				} else if (keyType !== undefined) {
					if (type !== 'string') {
						s = '<span class="tracy-dump-lq">\'<\/span>' + s + '<span>\'<\/span>';
					}
					const classes = ['tracy-dump-public', 'tracy-dump-protected', 'tracy-dump-private', 'tracy-dump-dynamic', 'tracy-dump-virtual',];
					return createEl(null, null, [createEl('span', {
						'class': classes[typeof keyType === 'string' ? PROP_PRIVATE : keyType],
						'title': typeof keyType === 'string' ? 'declared in ' + keyType : null,
					}, {html: s}),]);
				}
				let count = (s.match(/\n/g) || []).length;
				if (count) {
					let collapsed = count >= COLLAPSE_COUNT;
					return createEl(null, null, [createEl('span', {'class': collapsed ? 'tracy-toggle tracy-collapsed' : 'tracy-toggle'}, ['string']), '\n', createEl('div', {
						'class': 'tracy-dump-string' + (collapsed ? ' tracy-collapsed' : ''),
						'title': data.length + (data.bin ? ' bytes' : ' characters'),
					}, {html: '<span class="tracy-dump-lq">\'<\/span>' + s + '<span>\'<\/span>'}),]);
				}
				return createEl(null, null, [createEl('span', {
					'class': 'tracy-dump-string',
					'title': data.length + (data.bin ? ' bytes' : ' characters'),
				}, {html: '<span>\'<\/span>' + s + '<span>\'<\/span>'}),]);
			} else if (data.number) {
				return createEl(null, null, [createEl('span', {'class': 'tracy-dump-number'}, [data.number])]);
			} else if (data.text !== undefined) {
				return createEl(null, null, [createEl('span', {class: 'tracy-dump-virtual'}, [data.text])]);
			} else {
				let span = data.array !== undefined ? [createEl('span', {'class': 'tracy-dump-array'}, ['array']), ' (' + (data.length || data.items.length) + ')'] : [createEl('span', {
					'class': data.object ? 'tracy-dump-object' : 'tracy-dump-resource',
					title: data.editor ? 'Declared in file ' + data.editor.file + ' on line ' + data.editor.line + (data.editor.url ? '\n' + HINT_CTRL : '') + '\n' + HINT_ALT : null,
					'data-tracy-href': data.editor ? data.editor.url : null
				}, [data.object || data.resource]), ...(id ? [' ', createEl('span', {'class': 'tracy-dump-hash'}, [data.resource ? '@' + id.substr(1) : '#' + id])] : [])];
				parentIds = parentIds ? parentIds.slice() : [];
				let recursive = id && parentIds.indexOf(id) > -1;
				parentIds.push(id);
				if (recursive || !data.items || !data.items.length) {
					span.push(recursive ? ' RECURSION' : (!data.items || data.items.length ? ' …' : ''));
					return createEl(null, null, span);
				}
				collapsed = collapsed === true || data.collapsed || (data.items && data.items.length >= collapseCount);
				let toggle = createEl('span', {'class': collapsed ? 'tracy-toggle tracy-collapsed' : 'tracy-toggle'}, span);
				return createEl(null, null, [toggle, '\n', buildStruct(data, repository, toggle, collapsed, parentIds),]);
			}
		}

		function buildStruct(data, repository, toggle, collapsed, parentIds) {
			if (Array.isArray(data)) {
				data = {items: data};
			} else if (data.ref) {
				parentIds = parentIds.slice();
				parentIds.push(data.ref);
				data = repository[data.ref];
			}
			let cut = data.items && data.length > data.items.length;
			let type = data.object ? TYPE_OBJECT : data.resource ? TYPE_RESOURCE : TYPE_ARRAY;
			let div = createEl('div', {'class': collapsed ? 'tracy-collapsed' : null});
			if (collapsed) {
				let handler;
				toggle.addEventListener('tracy-toggle', handler = function () {
					toggle.removeEventListener('tracy-toggle', handler);
					createItems(div, data.items, type, repository, parentIds, null);
					if (cut) {
						createEl(div, null, ['…\n']);
					}
				});
			} else {
				createItems(div, data.items, type, repository, parentIds, true);
				if (cut) {
					createEl(div, null, ['…\n']);
				}
			}
			return div;
		}

		function createEl(el, attrs, content) {
			if (!(el instanceof Node)) {
				el = el ? document.createElement(el) : document.createDocumentFragment();
			}
			for (let id in attrs || {}) {
				if (attrs[id] !== null) {
					el.setAttribute(id, attrs[id]);
				}
			}
			if (content && content.html !== undefined) {
				el.innerHTML = content.html;
				return el;
			}
			content = content || [];
			for (let id = 0; id < content.length; id++) {
				let child = content[id];
				if (child !== null) {
					el.appendChild(child instanceof Node ? child : document.createTextNode(child));
				}
			}
			return el;
		}

		function createItems(el, items, type, repository, parentIds, collapsed) {
			let key, val, vis, ref, i, tmp;
			for (i = 0; i < items.length; i++) {
				if (type === TYPE_ARRAY) {
					[key, val, ref] = items[i];
				} else {
					[key, val, vis = PROP_VIRTUAL, ref] = items[i];
				}
				createEl(el, null, [build(key, null, null, null, type === TYPE_ARRAY ? TYPE_ARRAY : vis), type === TYPE_ARRAY ? ' => ' : ': ', ...(ref ? [createEl('span', {'class': 'tracy-dump-hash'}, ['&' + ref]), ' '] : []), tmp = build(val, repository, collapsed, parentIds), tmp.lastElementChild.tagName === 'DIV' ? '' : '\n',]);
			}
		}

		function toggleChildren(cont, usedIds) {
			let hashEl, id;
			cont.querySelectorAll(':scope > .tracy-toggle').forEach((el) => {
				hashEl = (el.querySelector('.tracy-dump-hash') || el.previousElementSibling);
				id = hashEl && hashEl.matches('.tracy-dump-hash') ? hashEl.textContent : null;
				if (!usedIds || (id && usedIds[id])) {
					Tracy.Toggle.toggle(el, false);
				} else {
					usedIds[id] = true;
					Tracy.Toggle.toggle(el, true, {usedIds: usedIds});
				}
			});
		}

		function UnknownEntityException() {
		}

		let Tracy = window.Tracy = window.Tracy || {};
		Tracy.Dumper = Tracy.Dumper || Dumper;

		function init() {
			Tracy.Dumper.init();
		}

		if (document.readyState === 'loading') {
			document.addEventListener('DOMContentLoaded', init);
		} else {
			init();
		}
	})();
	(function () {
		class BlueScreen {
			static init(ajax) {
				let blueScreen = document.getElementById('tracy-bs');
				let styles = [];
				for (let i = 0; i < document.styleSheets.length; i++) {
					let style = document.styleSheets[i];
					if (!style.ownerNode.classList.contains('tracy-debug')) {
						style.oldDisabled = style.disabled;
						style.disabled = true;
						styles.push(style);
					}
				}
				if (navigator.platform.indexOf('Mac') > -1) {
					blueScreen.classList.add('mac');
				}
				document.getElementById('tracy-bs-toggle').addEventListener('tracy-toggle', function () {
					let collapsed = this.classList.contains('tracy-collapsed');
					for (let i = 0; i < styles.length; i++) {
						styles[i].disabled = collapsed ? styles[i].oldDisabled : true;
					}
				});
				if (!ajax) {
					document.body.appendChild(blueScreen);
					let id = location.href + document.getElementById('tracy-bs-error').textContent;
					Tracy.Toggle.persist(blueScreen, sessionStorage.getItem('tracy-toggles-bskey') === id);
					sessionStorage.setItem('tracy-toggles-bskey', id);
				}
				if (inited) {
					return;
				}
				inited = true;
				document.addEventListener('keyup', (e) => {
					if (e.keyCode === 27 && !e.shiftKey && !e.altKey && !e.ctrlKey && !e.metaKey) {
						Tracy.Toggle.toggle(document.getElementById('tracy-bs-toggle'));
					}
				});
				Tracy.TableSort.init();
			}

			static loadAjax(content) {
				let ajaxBs = document.getElementById('tracy-bs');
				if (ajaxBs) {
					ajaxBs.remove();
				}
				document.body.insertAdjacentHTML('beforeend', content);
				ajaxBs = document.getElementById('tracy-bs');
				Tracy.Dumper.init(ajaxBs);
				BlueScreen.init(true);
				window.scrollTo(0, 0);
			}
		}

		let inited;
		let Tracy = window.Tracy = window.Tracy || {};
		Tracy.BlueScreen = Tracy.BlueScreen || BlueScreen;
	})();
	Tracy.BlueScreen.init();
</script>
</body>
</html>
